<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz de Identificação de Operações Matemáticas</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Comic Sans MS', cursive, sans-serif;
        }
        .loading {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            min-height: 100vh;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 2s linear infinite;
            margin-bottom: 20px;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div id="root">
        <div class="loading">
            <div class="spinner"></div>
            Carregando Quiz...
        </div>
    </div>

    <script type="text/babel">
        const { useState } = React;
        
        const QuizOperacoes = () => {
          const [studentName, setStudentName] = useState('');
          const [fontSize, setFontSize] = useState('normal');
          const [selectedBlocks, setSelectedBlocks] = useState([0]);
          const [quizStarted, setQuizStarted] = useState(false);
          const [currentQuestion, setCurrentQuestion] = useState(0);
          const [score, setScore] = useState(0);
          const [selectedAnswer, setSelectedAnswer] = useState('');
          const [showFeedback, setShowFeedback] = useState(false);
          const [isCorrect, setIsCorrect] = useState(false);
          const [quizCompleted, setQuizCompleted] = useState(false);

          const problemBlocks = [
            [
              {
                text: "João tem 3 carros de brinquedo no Roblox e ganhou mais 2. Quantos carros ele tem agora?",
                operation: "adição",
                explanation: "A palavra 'ganhou MAIS' indica que estamos SOMANDO.",
                calculation: "3 + 2 = 5"
              },
              {
                text: "Maria tinha 8 doces e comeu 3. Quantos doces sobraram?",
                operation: "subtração",
                explanation: "Ela COMEU alguns doces, então eles SAÍRAM.",
                calculation: "8 - 3 = 5"
              },
              {
                text: "Pedro viu 6 vídeos do Diário do Bananinha e sua irmã viu mais 4. Quantos vídeos eles viram juntos?",
                operation: "adição",
                explanation: "Estamos JUNTANDO os vídeos dos dois.",
                calculation: "6 + 4 = 10"
              },
              {
                text: "Ana tinha 9 pipas e 4 voaram no vento. Quantas pipas ficaram?",
                operation: "subtração",
                explanation: "As pipas VOARAM, então SAÍRAM.",
                calculation: "9 - 4 = 5"
              },
              {
                text: "Lucas tem 5 tênis e ganhou 3 novos. Quantos tênis ele possui agora?",
                operation: "adição",
                explanation: "Ele GANHOU mais tênis, então SOMAMOS.",
                calculation: "5 + 3 = 8"
              }
            ]
          ];

          const blockTitles = ["🎮 Nível Iniciante"];
          const operations = [
            { value: 'adição', label: 'Adição (+)', emoji: '➕' },
            { value: 'subtração', label: 'Subtração (-)', emoji: '➖' },
            { value: 'multiplicação', label: 'Multiplicação (×)', emoji: '✖️' }
          ];

          const getFontStyle = () => ({
            fontSize: fontSize === 'large' ? '28px' : '20px',
            fontFamily: "'Comic Sans MS', cursive"
          });

          const handleStartQuiz = () => {
            if (studentName.trim()) {
              setQuizStarted(true);
            }
          };

          const handleAnswerClick = (operation) => {
            const currentProblem = problemBlocks[0][currentQuestion];
            const correct = operation === currentProblem.operation;
            setSelectedAnswer(operation);
            setIsCorrect(correct);
            setShowFeedback(true);
            
            if (correct) {
              setScore(score + 1);
            }
          };

          const handleNext = () => {
            if (currentQuestion < 4) {
              setCurrentQuestion(currentQuestion + 1);
              setSelectedAnswer('');
              setShowFeedback(false);
              setIsCorrect(false);
            } else {
              setQuizCompleted(true);
            }
          };

          const resetQuiz = () => {
            setStudentName('');
            setQuizStarted(false);
            setCurrentQuestion(0);
            setScore(0);
            setSelectedAnswer('');
            setShowFeedback(false);
            setIsCorrect(false);
            setQuizCompleted(false);
          };

          // Setup Screen
          if (!quizStarted) {
            return React.createElement('div', {
              className: "min-h-screen bg-gradient-to-br from-blue-400 via-purple-500 to-pink-500 p-4",
              style: getFontStyle()
            }, 
              React.createElement('div', {
                className: "max-w-2xl mx-auto bg-white rounded-lg shadow-xl p-8"
              },
                React.createElement('h1', {
                  className: "text-4xl font-bold text-center mb-8 text-gray-800"
                }, "🎯 Quiz de Operações Matemáticas"),
                
                React.createElement('div', { className: "mb-6" },
                  React.createElement('label', {
                    className: "block text-lg font-semibold text-gray-700 mb-3"
                  }, "👤 Digite seu nome:"),
                  React.createElement('input', {
                    type: "text",
                    value: studentName,
                    onChange: (e) => setStudentName(e.target.value),
                    className: "w-full p-4 border-2 border-gray-300 rounded-lg text-lg focus:border-blue-500 focus:outline-none",
                    placeholder: "Seu nome aqui..."
                  })
                ),
                
                React.createElement('div', { className: "mb-6" },
                  React.createElement('h3', {
                    className: "text-lg font-semibold text-gray-700 mb-3"
                  }, "📏 Tamanho da Fonte:"),
                  React.createElement('div', { className: "flex gap-4" },
                    React.createElement('button', {
                      onClick: () => setFontSize('normal'),
                      className: `px-4 py-2 rounded font-semibold transition-colors ${
                        fontSize === 'normal' 
                          ? 'bg-blue-500 text-white' 
                          : 'bg-gray-200 text-gray-700 hover:bg-gray-300'
                      }`
                    }, "Normal"),
                    React.createElement('button', {
                      onClick: () => setFontSize('large'),
                      className: `px-4 py-2 rounded font-semibold transition-colors ${
                        fontSize === 'large' 
                          ? 'bg-blue-500 text-white' 
                          : 'bg-gray-200 text-gray-700 hover:bg-gray-300'
                      }`
                    }, "Grande")
                  )
                ),
                
                React.createElement('button', {
                  onClick: handleStartQuiz,
                  disabled: !studentName.trim(),
                  className: `w-full px-6 py-4 rounded-lg text-xl font-bold transition-all ${
                    studentName.trim()
                      ? 'bg-blue-500 text-white hover:bg-blue-600 transform hover:scale-105'
                      : 'bg-gray-300 text-gray-500 cursor-not-allowed'
                  }`
                }, "🚀 Começar Quiz!")
              )
            );
          }

          // Final Results
          if (quizCompleted) {
            const percentage = Math.round((score / 5) * 100);
            
            return React.createElement('div', {
              className: "min-h-screen bg-gradient-to-br from-blue-400 via-purple-500 to-pink-500 p-4",
              style: getFontStyle()
            },
              React.createElement('div', {
                className: "max-w-2xl mx-auto bg-white rounded-lg shadow-xl p-8 text-center"
              },
                React.createElement('h1', {
                  className: "text-4xl font-bold mb-4 text-gray-800"
                }, `🎊 Parabéns, ${studentName}! 🎊`),
                
                React.createElement('div', { className: "text-8xl mb-6" },
                  percentage >= 80 ? '🏆' : percentage >= 60 ? '🌟' : '💪'
                ),
                
                React.createElement('div', { className: "bg-gray-50 rounded-lg p-6 mb-6" },
                  React.createElement('p', { className: "text-3xl font-bold text-gray-800 mb-2" },
                    `${score} de 5 acertos`
                  ),
                  React.createElement('p', { className: "text-xl text-gray-600 mb-4" },
                    `${percentage}% de aproveitamento`
                  ),
                  React.createElement('p', { className: "text-lg font-semibold text-blue-600" },
                    percentage >= 80 ? 'Fantástico! Você é um expert!' :
                    percentage >= 60 ? 'Muito bem! Continue praticando!' :
                    'Continue tentando! Você consegue!'
                  )
                ),
                
                React.createElement('button', {
                  onClick: resetQuiz,
                  className: "px-8 py-4 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-xl font-bold transform hover:scale-105"
                }, "🏠 Tentar Novamente")
              )
            );
          }

          // Quiz Question Screen
          const currentProblem = problemBlocks[0][currentQuestion];
          
          return React.createElement('div', {
            className: "min-h-screen bg-gradient-to-br from-blue-400 via-purple-500 to-pink-500 p-4",
            style: getFontStyle()
          },
            React.createElement('div', {
              className: "max-w-2xl mx-auto bg-white rounded-lg shadow-xl p-6"
            },
              // Header
              React.createElement('div', { className: "mb-6" },
                React.createElement('div', { className: "flex justify-between items-center mb-4" },
                  React.createElement('span', {
                    className: "font-semibold text-gray-800"
                  }, `Aluno: ${studentName}`),
                  React.createElement('span', {
                    className: "text-sm text-gray-600"
                  }, `Questão ${currentQuestion + 1} de 5`)
                ),
                
                React.createElement('div', { className: "w-full bg-gray-200 rounded-full h-3" },
                  React.createElement('div', {
                    className: "bg-blue-500 h-3 rounded-full transition-all duration-300",
                    style: { width: `${((currentQuestion + 1) / 5) * 100}%` }
                  })
                )
              ),
              
              // Question
              React.createElement('div', { className: "mb-6" },
                React.createElement('h3', {
                  className: "text-xl font-bold mb-4 text-gray-800"
                }, "🤔 Que tipo de operação resolve este problema?"),
                React.createElement('div', {
                  className: "p-4 bg-blue-50 rounded-lg border-l-4 border-blue-500"
                },
                  React.createElement('p', {
                    className: "text-lg leading-relaxed text-gray-800"
                  }, currentProblem.text)
                )
              ),
              
              // Answer options or feedback
              !showFeedback ? 
                React.createElement('div', { className: "mb-6" },
                  React.createElement('div', { className: "grid grid-cols-1 gap-4" },
                    operations.map((operation) => 
                      React.createElement('button', {
                        key: operation.value,
                        onClick: () => handleAnswerClick(operation.value),
                        className: "p-4 bg-white border-2 border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-all duration-200 text-left transform hover:scale-105"
                      },
                        React.createElement('div', { className: "flex items-center" },
                          React.createElement('span', { className: "text-2xl mr-3" }, operation.emoji),
                          React.createElement('span', { className: "font-semibold text-lg" }, operation.label)
                        )
                      )
                    )
                  )
                ) :
                React.createElement('div', { className: "mb-6" },
                  React.createElement('div', {
                    className: `p-4 rounded-lg border-2 ${
                      isCorrect ? 'bg-green-50 border-green-200' : 'bg-red-50 border-red-200'
                    }`
                  },
                    React.createElement('div', { className: "flex items-center mb-3" },
                      React.createElement('span', { className: "text-3xl mr-3" }, isCorrect ? '✅' : '❌'),
                      React.createElement('span', {
                        className: `font-bold text-xl ${
                          isCorrect ? 'text-green-700' : 'text-red-700'
                        }`
                      }, isCorrect ? 'Correto!' : 'Não é essa operação...')
                    ),
                    
                    React.createElement('div', { className: "mb-3" },
                      React.createElement('p', { className: "text-gray-700 mb-2" },
                        React.createElement('strong', {}, "Resposta correta: "),
                        operations.find(op => op.value === currentProblem.operation)?.label
                      ),
                      React.createElement('p', { className: "text-gray-600 leading-relaxed" },
                        React.createElement('strong', {}, "Explicação: "),
                        currentProblem.explanation
                      )
                    ),
                    
                    React.createElement('div', { className: "bg-white p-3 rounded border" },
                      React.createElement('p', { className: "text-gray-700" },
                        React.createElement('strong', {}, "Cálculo: "),
                        currentProblem.calculation
                      )
                    )
                  ),
                  
                  React.createElement('div', { className: "mt-4" },
                    React.createElement('button', {
                      onClick: handleNext,
                      className: "w-full px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-lg font-semibold transform hover:scale-105"
                    }, currentQuestion < 4 ? '➡️ Próxima Questão' : '🏁 Ver Resultado')
                  )
                )
            )
          );
        };

        // Render the app
        ReactDOM.render(React.createElement(QuizOperacoes), document.getElementById('root'));
    </script>
</body>
</html>